<html lang="pt-br">
	<head>
		<meta charset="UTF-8" />
		<title>Aplicativo Ronda 3ºCGEO</title>
		<meta name="description" content="App Ronda">
		<meta name="author" content="Ten Cardozo">
		<meta content='yes' name='apple-mobile-web-app-capable' />
		<meta content='yes' name='mobile-web-app-capable' />
		<meta name="apple-mobile-web-app-status-bar" content="#aa7700">
		<meta name="theme-color" content="black">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="assets/css/bootstrap.min.css">
		<!-- Optional theme -->
		<link rel="stylesheet" href="assets/css/bootstrap-theme.min.css">
		<!-- Latest compiled and minified JavaScript -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/bootstrap.min.js?vs=02"></script>
	
		<!-- Ícones -->
		<link rel="apple-touch-icon" href="assets/icon/android-chrome-192x192.png">
        <link rel="shortcut icon" href="assets/ico/favicon.ico">
		<link rel="manifest" href="manifest.webmanifest">
	</head>
	<body>
		<div class="container">
			<br>
			<div class="masthead">
				<center>
					<img style="width:80px;margin-top:-5px;" src="assets/img/logo.png"/>
					<h4><b>3º CENTRO DE GEOINFORMAÇÃO</b></h4>
					<p>CENTRO DE GEOINFORMAÇÃO GENERAL DJALMA POLY COELHO</p>
					<h1>Ronda</h1>
				</center>
			</div>
			<br>
		<div class="row">
			<div class="col-lg-6 col-lg-offset-3 txt-center">
				<form id="form-ronda">
					<div class="row">
						<div class="col-md-6">
							<label>RP:</label>
							<input class="form-control mudou" type="time" name="rp_time" id="rp_time" style="width:120px;" />
						</div>
						<div class="col-md-6">
							<label>Descrição RP:</label> 
							<input class="form-control mudou" type="tel" name="rp" id="rp" />
						</div>
					</div>
					<br>
					<div class="row">
						<div class="col-md-6">
							<label>GAC:</label>
							<input class="form-control mudou" type="time" name="gac_time" id="gac_time" style="width:120px;" />
						</div>
						<div class="col-md-6">
							<label>Descrição GAC:</label> 
							<input class="form-control mudou" type="tel" name="gac" id="gac" />
						</div>
					</div>
					<br>
					<div class="row">
						<div class="col-md-6">
							<label>GAR:</label>
							<input class="form-control mudou" type="time" name="gar_time" id="gar_time" style="width:120px;" />
						</div>
						<div class="col-md-6">
							<label>Descrição GAR:</label> 
							<input class="form-control mudou" type="tel" name="gar" id="gar" />
						</div>
					</div>
					<br>
					<div class="row">
						<div class="col-md-6">
							<label>PS4:</label>
							<input class="form-control mudou" type="time" name="ps4_time" id="ps4_time" style="width:120px;" />
						</div>
						<div class="col-md-6">
							<label>Descrição PS4:</label> 
							<input class="form-control mudou" type="tel" name="ps4" id="ps4" />
						</div>
					</div>
					<br>
					<div class="row">
						<div class="col-md-6">
							<label>ALOJ:</label>
							<input class="form-control mudou" type="time" name="aloj_time" id="aloj_time" style="width:120px;" />
						</div>
						<div class="col-md-6">
							<label>Descrição ALOJ:</label> 
							<input class="form-control mudou" type="tel" name="aloj" id="aloj" />
						</div>
					</div>
					<br>
					<div class="row">
						<div class="col-md-6">
							<label>ARM:</label>
							<input class="form-control mudou" type="time" name="arm_time" id="arm_time" style="width:120px;" />
						</div>
						<div class="col-md-6">
							<label>Descrição ARM:</label> 
							<input class="form-control mudou" type="tel" name="arm" id="arm" />
						</div>
					</div>
					<br>
					<div class="row">
						<div class="col-md-6">
							<label>PS2:</label>
							<input class="form-control mudou" type="time" name="ps2_time" id="ps2_time" style="width:120px;" />
						</div>
						<div class="col-md-6">
							<label>Descrição PS2:</label> 
							<input class="form-control mudou" type="tel" name="ps2" id="ps2" />
						</div>
					</div>
					<br>
					<div class="row">
						<div class="col-md-6">
							<label>PL:</label>
							<input class="form-control mudou" type="time" name="pl_time" id="pl_time" style="width:120px;" />
						</div>
						<div class="col-md-6">
							<label>Descrição PL:</label> 
							<input class="form-control mudou" type="tel" name="pl" id="pl" />
						</div>
					</div>
					<br>
					<div class="row">
						<div class="col-md-6">
							<label>PP:</label>
							<input class="form-control mudou" type="time" name="pp_time" id="pp_time" style="width:120px;" />
						</div>
						<div class="col-md-6">
							<label>Descrição PP:</label> 
							<input class="form-control mudou" type="tel" name="pp" id="pp" />
						</div>
					</div>
					<br>
					<div class="row">
						<div class="col-md-4">
							<button type="button" id="atualizar" style="margin-top: 5px;" class="btn btn-block btn-primary">Atualizar</button>
						</div>
						
						<div class="col-md-4">
							<a href="#" id="imprimir" style="margin-top: 5px;" data-toggle="modal" data-target="#myModal-imprimir" class="btn btn-block btn-warning" >Imprimir</a>
						</div>
						
						<div class="col-md-4">
							<button type="button" id="limpar" style="margin-top: 5px;" class="btn btn-block btn-danger">Limpar</button>
						</div>
					</div>
				</form>
			</div>
		</div>
			
		<!-- Modal -->
		<div id="myModal" class="modal fade" role="dialog">
		  <div class="modal-dialog">

			<!-- Modal content-->
			<div class="modal-content">
			  <div class="modal-header">
			<button type="button" class="close" data-dismiss="modal">&times;</button>
			<h4 class="modal-title">Alerta!</h4>
			  </div>
			  <div class="modal-body">
			<p>Módulo em desenvolvimento.</p>
			  </div>
			  <div class="modal-footer">
			<button type="button" class="btn btn-default" data-dismiss="modal">Fechar [X]</button>
			  </div>
			</div>

		  </div>
		</div>
		<!-- Modal -->
		<div id="myModal-imprimir" class="modal fade" role="dialog">
		  <div class="modal-dialog">

			<!-- Modal content-->
			<div class="modal-content">
			  <div class="modal-header">
			<button type="button" class="close" data-dismiss="modal">&times;</button>
			<h4 class="modal-title">Roteiro da ronda</h4>
			  </div>
			  <div class="modal-body">
			<span id="roteiro"></span>
			  </div>
			  <div class="modal-footer">
			<button type="button" class="btn btn-default" data-dismiss="modal">Fechar [X]</button>
			  </div>
			</div>

		  </div>
		</div>
		<hr>
		
		<!-- Site footer -->
		<footer class="footer center">
			<center><p>3° Centro de Geoinformação &copy; 2022.Todos os direitos reservados</p></center>
		</footer>
	</body>
	<script> 
  
	/* Guarda as variáveis da ronda */
	
	$(document).ready(function(){
	
		$(document).on('change', '.mudou',function () {
		
			var prop = $(this);
			var name = $(this).prop('name');
			var value = prop.val();
			localStorage.setItem(name,value);
		});
		
		for (var i = 0; i < localStorage.length; i++){
			$("#" + localStorage.key(i)).val(localStorage.getItem(localStorage.key(i))); 
		}
		
		$(document).on('click', '#atualizar',function () {
		
			location.reload();
		});
		
		$(document).on('click', '#limpar',function () {
			localStorage.clear();
			location.reload();
		});
		
		$(document).on('click', '#imprimir',function () {
			
			var lista = "<ul>";
			
			for (var i = 0; i < localStorage.length; i++){
				lista += "<li>"+localStorage.key(i)+" : "+localStorage.getItem(localStorage.key(i))+"</li>";
			}
			
			lista +="</ul>";
			
			$('#roteiro').html(lista).show();
		});
	
	});
	</script>
	<script>
		document.addEventListener("DOMContentLoaded", function (event) {
			if ('serviceWorker' in navigator) {
				console.log('has serviceworker');
				window.addEventListener('load', () => {
					navigator.serviceWorker.register('serviceWorker.js')
						.then((registration) => {
							console.log('Service worker registered.', registration);
						});
				});
			}
			else {
				console.log("Your browser not supports serviceWorkers");
			}
		});
	</script>
</html>